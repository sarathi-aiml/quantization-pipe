{
  "report_metadata": {
    "generated_at": "2026-02-08T21:47:07.044356+00:00",
    "generator": "scripts/generate_report.py",
    "pipeline_version": "1.0.0",
    "source_files": [
      "baseline_fp16",
      "download_info",
      "environment",
      "evaluation_finetuned",
      "finetuned_standard_bench",
      "quantization_info",
      "quantized_int4",
      "training_metrics"
    ]
  },
  "environment": {
    "gpu": "NVIDIA GB10",
    "gpu_count": 1,
    "total_vram_gb": 119.7,
    "cuda_version": "12.8",
    "pytorch_version": "2.11.0.dev20260206+cu128",
    "python_version": "3.10.19",
    "platform": "Linux-6.14.0-1015-nvidia-aarch64-with-glibc2.39",
    "key_packages": {
      "transformers": "4.57.6",
      "peft": "0.18.0",
      "trl": "0.27.2",
      "bitsandbytes": "0.49.1",
      "fastapi": "0.128.3",
      "gradio": "6.2.0",
      "accelerate": "1.12.0",
      "datasets": "4.4.2",
      "huggingface_hub": "0.36.2",
      "Pillow": "12.1.0",
      "qwen-vl-utils": "unknown"
    }
  },
  "model": {
    "name": "Qwen2.5-VL-7B-Instruct",
    "source": "Qwen/Qwen2.5-VL-7B-Instruct",
    "size_gb": 15.46,
    "download_time_seconds": 390.48,
    "total_parameters": 4882615296
  },
  "quantization": {
    "method": "bitsandbytes NF4",
    "details": "4-bit NormalFloat with double quantization, bfloat16 compute dtype",
    "awq_attempted": true,
    "awq_failed_reason": "ImportError: cannot import name 'PytorchGELUTanh' from 'transformers.activations' (/home/sarathi/miniconda3/envs/ft/lib/python3.10/site-packages/transformers/activations.py)",
    "fallback": "bitsandbytes NF4"
  },
  "fine_tuning": {
    "method": "QLoRA (LoRA on NF4-quantized base)",
    "lora_rank": 64,
    "lora_alpha": 128,
    "trainable_params": 190357504,
    "trainable_pct": 3.9,
    "training_samples": 1000,
    "epochs": 2,
    "effective_batch_size": 16,
    "learning_rate": 0.0002,
    "training_time_minutes": 128.4,
    "initial_loss": 1.754,
    "final_loss": 0.9960072806903294,
    "loss_reduction_pct": 43.2
  },
  "performance_comparison": {
    "fp16_baseline": {
      "vram_post_load_mb": 15820.09,
      "load_time_seconds": 88.74,
      "avg_latency_seconds": 31.1043,
      "min_latency_seconds": 22.5787,
      "max_latency_seconds": 48.7439
    },
    "nf4_quantized": {
      "vram_post_load_mb": 5664.12,
      "load_time_seconds": 92.65,
      "avg_latency_seconds": 15.2419,
      "min_latency_seconds": 11.7564,
      "max_latency_seconds": 23.2483
    },
    "finetuned_nf4_lora": {
      "vram_post_load_mb": 11335.83,
      "load_time_seconds": 92.73,
      "avg_latency_seconds": 14.7029,
      "min_latency_seconds": 12.014,
      "max_latency_seconds": 23.4649
    },
    "improvements": {
      "vram_reduction_nf4_vs_fp16_pct": 64.2,
      "latency_reduction_nf4_vs_fp16_pct": 51.0,
      "vram_reduction_ft_vs_fp16_pct": 28.3,
      "latency_reduction_ft_vs_fp16_pct": 52.7
    }
  },
  "medical_accuracy": {
    "test_cases": 5,
    "test_types": [
      "Medication Reconciliation Form",
      "ICU Flowsheet",
      "Cardiology Consultation Note",
      "Complex Lab Panel",
      "Surgical Operative Note"
    ],
    "base_nf4": {
      "avg_term_accuracy_pct": 83.79,
      "avg_value_accuracy_pct": 83.19,
      "avg_combined_accuracy_pct": 83.49
    },
    "finetuned": {
      "avg_term_accuracy_pct": 78.19,
      "avg_value_accuracy_pct": 69.19,
      "avg_combined_accuracy_pct": 73.7
    },
    "accuracy_delta": {
      "term_accuracy_delta_pct": -5.6,
      "value_accuracy_delta_pct": -14.0,
      "combined_accuracy_delta_pct": -9.79
    }
  },
  "datasets": {
    "pathvqa_formatted": 431,
    "mtsamples_formatted": 4465,
    "total_formatted": 4896,
    "train_split": 3916,
    "val_split": 490,
    "test_split": 490,
    "split_ratio": "80/10/10"
  },
  "api_deployment": {
    "framework": "FastAPI",
    "endpoints": [
      "/health",
      "/extract",
      "/analyze",
      "/benchmark"
    ],
    "demo_ui": "Gradio",
    "containerization": "Docker (NVIDIA CUDA 12.8 base)",
    "tests_passed": 5,
    "tests_total": 5
  }
}